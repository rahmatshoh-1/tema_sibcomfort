import{D as v}from"./DashboardLayout-d96027a2.js";import{B as x,O as y,p as u,o as i,c as k,w as p,a as e,l as m,A as b,z as w,e as r,g as C,t as V,F as L,b as h,h as B,f as a,i as j}from"./app-00f1f0af.js";import{S as z}from"./sweetalert2-c9babbd4.js";import{C as M}from"./ckeditor-f9579a91.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";const D={components:{DashboardLayout:v},data(){return{item:{image:"",title:"",body:"",link:"",page:"",status:"active",mobile_image:""},editor:M,editorConfig:{ckfinder:{uploadUrl:"/dashboard/editor/upload",name:"upload",url:"url"},mediaEmbed:{previewsInData:!0}},sliderPages:[{label:"Главная страница",value:"home"},{label:"Полезный контент",value:"posts"},{label:"Подробно 'Полезный контент'",value:"post.single"},{label:"Собственное производство",value:"production"},{label:"Готовые объекты",value:"ready.project"},{label:"Проекты",value:"projects"},{label:"Подробно 'Проекты'",value:"project.single"},{label:"Ипотека",value:"ipoteka"},{label:"Контакты",value:"contacts"},{label:"Каркасные дома",value:"frame.house"},{label:"Погонаж",value:"molded.house"},{label:"Строительство из бруса",value:"brus"},{label:"Модульное строительство",value:"module"},{label:"Ручная рубка",value:"manual.cutting"},{label:"Пиломатериал",value:"lumber"}]}},mounted(){},methods:{changeImage(o,s){if(o.target.files.length>0){var n=o.target;if(n.files&&n.files[0]){var c=new FileReader;c.onload=t=>{this.item[s]=t.target.result},c.readAsDataURL(n.files[0])}}},submit(){x.post(route("sliders.store"),this.item).then(o=>{z.fire({title:"Слайд успешно создан",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),y.visit(route("sliders.index"),{replace:!0})}).catch(o=>{console.log(o.response.data)})},validLink(){return this.item.link===null||this.item.link.length==0?!0:!!(this.item.link!=null&&this.item.link.startsWith("http"))}}},U=e("div",{class:"mb-6"},[e("h2",{class:"font-bold text-xl"},"Добавить слайд")],-1),P={class:""},q=e("label",{class:"block",for:""},[a("Заголовок: "),e("span",{class:"text-xl text-red-500"},"*")],-1),G={class:""},I=e("label",{class:"block",for:""},[a("Страница: "),e("span",{class:"text-xl text-red-500"},"*")],-1),N=["value"],F={class:"col-span-2 border-t-2 pt-3"},S=e("label",{class:"block",for:""},[a("Описание: "),e("span",{class:"text-xl text-red-500"},"*")],-1),E={class:"col-span-2 border-t-2 pt-3"},H=e("label",{class:"block",for:""},[a(" Изображение: "),e("span",{class:"text-xl text-red-500"},[a("* "),e("span",{class:"text-sm"},"(рекомендуемый размер 1500x800 пиксель)")])],-1),J=["required"],O={for:"image",class:"cursor-pointer"},R={key:0,class:"relative group"},T=["src"],W=e("div",{class:"group-hover:flex hidden absolute right-0 left-0 bottom-0 top-0 bg-black bg-opacity-50 z-20 items-center justify-center rounded-lg"},[e("span",{class:"inline-block border-2 rounded-lg px-4 py-3 font-bold text-sm text-white"},"Изменить")],-1),K={key:1,class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},Q=e("div",{class:"text-center"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})]),e("div",{class:"mt-4 flex text-sm leading-6 text-indigo-600 tex"},[e("p",{class:"pl-1"}," Upload a file. PNG, JPG, GIF up to 10MB ")])],-1),X=[Q],Y={class:"col-span-2 border-t-2 pt-3"},Z=e("label",{class:"block",for:""},[a(" Изображение для мобильного версия сайта: "),e("span",{class:"text-xl text-red-500"},[a("* "),e("span",{class:"text-sm"},"(рекомендуемый размер 450x730 пиксель)")])],-1),$=["required"],ee={for:"mobile_image",class:"cursor-pointer"},te={key:0,class:"relative group"},se=["src"],le=e("div",{class:"group-hover:flex hidden absolute right-0 left-0 bottom-0 top-0 bg-black bg-opacity-50 z-20 items-center justify-center rounded-lg"},[e("span",{class:"inline-block border-2 rounded-lg px-4 py-3 font-bold text-sm text-white"},"Изменить")],-1),oe={key:1,class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},ie=e("div",{class:"text-center"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})]),e("div",{class:"mt-4 flex text-sm leading-6 text-indigo-600 tex"},[e("p",{class:"pl-1"}," Upload a file. PNG, JPG, GIF up to 10MB ")])],-1),ae=[ie],re={class:""},de=e("label",{class:"block",for:""},"Ссылка:",-1),ne={key:0,class:"text-red-500 mt-2"},ce={class:"lg:col-span-2 flex items-center gap-x-3"},ue=["checked","value"],me=e("label",{class:"block",for:"is_show"}," Отображать?",-1),pe={class:"col-span-2 border-t-2 pt-3"},be={class:"flex items-center justify-end gap-x-3"},he=["disabled","href"];function ge(o,s,n,c,t,d){const g=u("ckeditor"),_=u("Link"),f=u("DashboardLayout");return i(),k(f,null,{default:p(()=>[U,e("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:s[7]||(s[7]=j(l=>d.submit(),["prevent"]))},[e("div",P,[q,m(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":s[0]||(s[0]=l=>t.item.title=l)},null,512),[[b,t.item.title]])]),e("div",G,[I,m(e("select",{class:"form-controls",required:"","onUpdate:modelValue":s[1]||(s[1]=l=>t.item.page=l)},[(i(!0),r(L,null,C(t.sliderPages,l=>(i(),r("option",{key:l.value,value:l.value},V(l.label),9,N))),128))],512),[[w,t.item.page]])]),e("div",F,[S,h(g,{modelValue:t.item.body,"onUpdate:modelValue":s[2]||(s[2]=l=>t.item.body=l),editor:t.editor,config:t.editorConfig},null,8,["modelValue","editor","config"])]),e("div",E,[H,e("input",{id:"image",onChange:s[3]||(s[3]=l=>d.changeImage(l,"image")),type:"file",accept:"image/*",required:t.item.image=="",class:"w-[1px] h-[1px] opacity-0"},null,40,J),e("label",O,[t.item.image?(i(),r("div",R,[e("img",{class:"object-cover h-[270px] rounded-lg border border-dashed border-gray-900/25 w-full",src:t.item.image,alt:""},null,8,T),W])):(i(),r("div",K,X))])]),e("div",Y,[Z,e("input",{id:"mobile_image",onChange:s[4]||(s[4]=l=>d.changeImage(l,"mobile_image")),type:"file",accept:"image/*",required:t.item.mobile_image=="",class:"w-[1px] h-[1px] opacity-0"},null,40,$),e("label",ee,[t.item.mobile_image?(i(),r("div",te,[e("img",{class:"object-cover h-[270px] rounded-lg border border-dashed border-gray-900/25 w-full",src:t.item.mobile_image,alt:""},null,8,se),le])):(i(),r("div",oe,ae))])]),e("div",re,[de,m(e("input",{type:"text",class:"form-controls",placeholder:"Пример: https://www.google.com/","onUpdate:modelValue":s[5]||(s[5]=l=>t.item.link=l)},null,512),[[b,t.item.link]]),d.validLink()?B("",!0):(i(),r("span",ne,"Введите корректный адрес"))]),e("div",ce,[e("input",{id:"is_show",name:"is_show",type:"checkbox",onChange:s[6]||(s[6]=l=>t.item.status=t.item.status=="active"?"deactive":"active"),checked:t.item.status=="active",value:t.item.status,class:"h-4 w-4 rounded border-white/10 bg-white/5 text-[#16a34a] focus:ring-[#16a34a] focus:ring-offset-gray-900 ring ring-[#16a34a]"},null,40,ue),me]),e("div",pe,[e("div",be,[h(_,{class:"dash-btn !bg-gray-300 !text-gray-800",href:o.route("sliders.index")},{default:p(()=>[a("Назад")]),_:1},8,["href"]),e("button",{disabled:!d.validLink(),class:"dash-btn",href:o.route("sliders.index")}," Сохранить ",8,he)])])],32)]),_:1})}const ke=A(D,[["render",ge]]);export{ke as default};
