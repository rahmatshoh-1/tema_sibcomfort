import{D as y}from"./DashboardLayout-d96027a2.js";import{B as k,O as w,p as d,o as l,c as A,w as p,a as e,l as c,A as h,z as V,e as a,g as C,t as f,F as B,b as g,f as b,i as D}from"./app-00f1f0af.js";import{S as L}from"./sweetalert2-c9babbd4.js";import{C as z}from"./ckeditor-f9579a91.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";const M={components:{DashboardLayout:y},props:{product:{type:Object,default:{}}},data(){return{item:{name:"",title:"",image:"",body:"",status:"",type:"pogonazh"},types:[{label:"Погонаж",value:"pogonazh"},{label:"Пиломатериал",value:"pilomaterial"}],editor:z,editorConfig:{ckfinder:{uploadUrl:"/dashboard/editor/upload",name:"upload",url:"url"},mediaEmbed:{previewsInData:!0}}}},mounted(){this.item=this.product},methods:{changeImage(i,s){if(i.target.files.length>0){var r=i.target;if(r.files&&r.files[0]){var n=new FileReader;n.onload=t=>{this.item[s]=t.target.result},n.readAsDataURL(r.files[0])}}},submit(){k.put(route("products.update",this.item.id),this.item).then(i=>{L.fire({title:"Продукт успешно обновлен",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),w.visit(route("products.index"),{replace:!0})}).catch(i=>{console.log(i.response.data)})}}},j=e("div",{class:"mb-6"},[e("h2",{class:"font-bold text-xl"},"Редактировать продукт")],-1),S={class:""},q=e("label",{class:"block",for:""},"Название :",-1),E={class:""},F=e("label",{class:"block",for:""},"Скидки,акции итп :",-1),I={class:""},N=e("label",{class:"block",for:""},"Тип:",-1),G=["value"],O={class:"col-span-2 border-t-2 pt-3"},P=e("label",{class:"block",for:""},"Описание:",-1),R={class:"col-span-2 border-t-2 pt-3"},T=e("label",{class:"block",for:"image"}," Изображение: ",-1),H=["required"],J={for:"image",class:"cursor-pointer"},K={key:0,class:"relative group"},Q=["src"],W=e("div",{class:"group-hover:flex hidden absolute right-0 left-0 bottom-0 top-0 bg-black bg-opacity-50 z-20 items-center justify-center rounded-lg"},[e("span",{class:"inline-block border-2 rounded-lg px-4 py-3 font-bold text-sm text-white"},"Изменить")],-1),X={key:1,class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},Y=e("div",{class:"text-center"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})]),e("div",{class:"mt-4 flex text-sm leading-6 text-indigo-600 tex"},[e("p",{class:"pl-1"}," Upload a file. PNG, JPG, GIF up to 10MB ")])],-1),Z=[Y],$={class:"lg:col-span-2 flex items-center gap-x-3"},ee=["checked","value"],te=e("label",{class:"block",for:"is_show"}," Отображать?",-1),se={class:"col-span-2 border-t-2 pt-3"},oe={class:"flex items-center justify-end gap-x-3"},ie=["href"];function le(i,s,r,n,t,u){const _=d("ckeditor"),v=d("Link"),x=d("DashboardLayout");return l(),A(x,null,{default:p(()=>{var m;return[j,e("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:s[6]||(s[6]=D(o=>u.submit(),["prevent"]))},[e("div",S,[q,c(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.item.name=o)},null,512),[[h,t.item.name]])]),e("div",E,[F,c(e("input",{type:"text",class:"form-controls","onUpdate:modelValue":s[1]||(s[1]=o=>t.item.title=o)},null,512),[[h,t.item.title]])]),e("div",I,[N,c(e("select",{name:"","onUpdate:modelValue":s[2]||(s[2]=o=>t.item.type=o),class:"form-controls",id:"",required:""},[(l(!0),a(B,null,C(t.types,o=>(l(),a("option",{key:o.value,value:o.value},f(o.label),9,G))),128))],512),[[V,t.item.type]])]),e("div",O,[P,g(_,{modelValue:t.item.body,"onUpdate:modelValue":s[3]||(s[3]=o=>t.item.body=o),editor:t.editor,config:t.editorConfig},null,8,["modelValue","editor","config"])]),e("div",R,[T,e("input",{id:"image",onChange:s[4]||(s[4]=o=>u.changeImage(o,"image")),type:"file",accept:"image/*",required:t.item.image=="",class:"w-[1px] h-[1px] opacity-0"},null,40,H),e("label",J,[t.item.image?(l(),a("div",K,[e("img",{class:"object-cover h-[270px] rounded-lg border border-dashed border-gray-900/25 w-full",src:t.item.image,alt:""},null,8,Q),W])):(l(),a("div",X,Z))])]),e("div",$,[e("input",{id:"is_show",name:"is_show",type:"checkbox",onChange:s[5]||(s[5]=o=>t.item.status=t.item.status=="active"?"deactive":"active"),checked:t.item.status=="active",value:t.item.status,class:"h-4 w-4 rounded border-white/10 bg-white/5 text-[#16A34A] focus:ring-[#16A34A] focus:ring-offset-gray-900 ring ring-[#16A34A]"},null,40,ee),te]),e("div",se,[b(" Последнее изменение: "+f((m=t.item.admin)==null?void 0:m.name)+" ",1),e("div",oe,[g(v,{class:"dash-btn !bg-gray-300 !text-gray-800",href:i.route("products.index")},{default:p(()=>[b("Назад")]),_:1},8,["href"]),e("button",{class:"dash-btn",href:i.route("products.index")}," Сохранить ",8,ie)])])],32)]}),_:1})}const ue=U(M,[["render",le]]);export{ue as default};
