import{D as x}from"./DashboardLayout-d96027a2.js";import{B as y,O as k,p as n,o as d,c as q,w as u,a as e,l as m,A as w,z as D,e as f,g as V,t as p,F as B,b,f as l,i as C}from"./app-00f1f0af.js";import{S as L}from"./sweetalert2-c9babbd4.js";import{C as S}from"./ckeditor-f9579a91.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";const E={components:{DashboardLayout:x},props:{faq:{type:Object,default:{}}},data(){return{item:{label:"",body:"",page:""},editor:S,editorConfig:{ckfinder:{uploadUrl:"/dashboard/editor/upload",name:"upload",url:"url"},mediaEmbed:{previewsInData:!0}},sliderPages:[{label:"Каркасные дома",value:"frame.house"},{label:"Погонаж",value:"molded.house"},{label:"Брус",value:"brus"},{label:"Модульные дома",value:"module"},{label:"Ручная рубка",value:"manual.cutting"},{label:"Пиломатериал",value:"lumber"}]}},mounted(){this.item=this.faq},methods:{changeImage(a,o){if(a.target.files.length>0){var r=a.target;if(r.files&&r.files[0]){var i=new FileReader;i.onload=t=>{this.item.image=t.target.result},i.readAsDataURL(r.files[0])}}},submit(){y.put(route("faqs.update",this.faq.id),this.item).then(a=>{L.fire({title:"Чаво успешно обновлен",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),k.visit(route("faqs.index"),{replace:!0})}).catch(a=>{console.log(a.response.data)})}}},F=e("div",{class:"mb-6"},[e("h2",{class:"font-bold text-xl"},"Редактировать ЧАВО")],-1),M={class:""},N=e("label",{class:"block",for:""},[l("Вопрос: "),e("span",{class:"text-xl text-red-500"},"*")],-1),O={class:""},P=e("label",{class:"block",for:""},[l("Страница: "),e("span",{class:"text-xl text-red-500"},"*")],-1),j=["value"],A={class:"col-span-2 border-t-2 pt-3"},I=e("label",{class:"block",for:""},[l("Ответь: "),e("span",{class:"text-xl text-red-500"},"*")],-1),R={class:"col-span-2 border-t-2 pt-3"},T={class:"flex items-center justify-end gap-x-3"},z=["href"];function G(a,o,r,i,t,h){const _=n("ckeditor"),g=n("Link"),v=n("DashboardLayout");return d(),q(v,null,{default:u(()=>{var c;return[F,e("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:o[3]||(o[3]=C(s=>h.submit(),["prevent"]))},[e("div",M,[N,m(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":o[0]||(o[0]=s=>t.item.label=s)},null,512),[[w,t.item.label]])]),e("div",O,[P,m(e("select",{class:"form-controls",required:"","onUpdate:modelValue":o[1]||(o[1]=s=>t.item.page=s)},[(d(!0),f(B,null,V(t.sliderPages,s=>(d(),f("option",{key:s.value,value:s.value},p(s.label),9,j))),128))],512),[[D,t.item.page]])]),e("div",A,[I,b(_,{modelValue:t.item.body,"onUpdate:modelValue":o[2]||(o[2]=s=>t.item.body=s),editor:t.editor,config:t.editorConfig},null,8,["modelValue","editor","config"])]),e("div",R,[l(" Последнее изменение: "+p((c=t.item.admin)==null?void 0:c.name)+" ",1),e("div",T,[b(g,{class:"dash-btn !bg-gray-300 !text-gray-800",href:a.route("faqs.index")},{default:u(()=>[l("Назад")]),_:1},8,["href"]),e("button",{class:"dash-btn",href:a.route("faqs.index")}," Сохранить ",8,z)])])],32)]}),_:1})}const X=U(E,[["render",G]]);export{X as default};
