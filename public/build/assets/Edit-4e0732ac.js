import{D as v}from"./DashboardLayout-d96027a2.js";import{Z as x,B as y,O as w,p as m,o as k,e as B,b as n,w as f,a as e,l as d,A as c,z as D,f as i,t as V,i as C,F as E}from"./app-00f1f0af.js";import{C as L}from"./vue-select-954840c9.js";import{S}from"./sweetalert2-c9babbd4.js";import{I}from"./IError-5b4b8cad.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";const q={components:{DashboardLayout:v,vSelect:L,IError:I,Head:x},props:{admin:{type:Object,default:{}}},data(){return{item:{name:"",email:"",password:""},errors:[]}},mounted(){this.item=this.admin},methods:{changeImage(r,s){if(r.target.files.length>0){var l=r.target;if(l.files&&l.files[0]){var p=new FileReader;p.onload=o=>{this.item.image=o.target.result},p.readAsDataURL(l.files[0])}}},submit(){y.put(route("admins.update",this.admin.id),this.item).then(r=>{S.fire({title:"Администратор успешно создан",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),w.visit(route("admins.index"),{replace:!0})}).catch(r=>{console.log(r.response.data),this.errors=r.response.data.errors})}}},F=e("div",{class:"mb-6"},[e("h2",{class:"font-bold text-xl"},"Редактировать администратор")],-1),H={class:""},M=e("label",{class:"block",for:""},[i("Имя:"),e("span",{class:"font-bold text-red-600"},"*")],-1),N={class:""},O=e("label",{class:"block",for:""},[i("E-mail:"),e("span",{class:"font-bold text-red-600"},"*")],-1),j={class:""},A=e("label",{class:"block",for:""},[i("Доступ:"),e("span",{class:"font-bold text-red-600"},"*")],-1),R=e("option",{value:"moderator"},"Модератор",-1),T=e("option",{value:"admin"},"Админ",-1),z=[R,T],P={class:""},Z=e("label",{class:"block",for:""},"Пароль:",-1),G={class:"col-span-2 border-t-2 pt-3"},J={class:"flex items-center justify-end gap-x-3"},K=["href"];function Q(r,s,l,p,o,_){const h=m("Head"),a=m("IError"),b=m("Link"),g=m("DashboardLayout");return k(),B(E,null,[n(h,{title:"Редактировать администратор"}),n(g,null,{default:f(()=>{var u;return[F,e("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:s[6]||(s[6]=C(t=>_.submit(),["prevent"]))},[e("div",H,[M,d(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.item.name=t)},null,512),[[c,o.item.name]]),n(a,{name:"name",errors:o.errors},null,8,["errors"])]),e("div",N,[O,d(e("input",{type:"email",class:"form-controls",required:"","onUpdate:modelValue":s[1]||(s[1]=t=>o.item.email=t)},null,512),[[c,o.item.email]]),n(a,{name:"email",errors:o.errors},null,8,["errors"])]),e("div",j,[A,d(e("select",{class:"form-controls",required:"","onUpdate:modelValue":s[2]||(s[2]=t=>o.item.role=t)},z,512),[[D,o.item.role]]),n(a,{name:"role",errors:o.errors},null,8,["errors"])]),e("div",P,[Z,d(e("input",{type:"password",class:"form-controls","onUpdate:modelValue":s[3]||(s[3]=t=>o.item.password=t),minlength:"8",onClick:s[4]||(s[4]=t=>t.target.type="text"),onBlur:s[5]||(s[5]=t=>t.target.type="password")},null,544),[[c,o.item.password]]),n(a,{name:"password",errors:o.errors},null,8,["errors"])]),e("div",G,[i(" Последнее изменение: "+V((u=o.item.admin)==null?void 0:u.name)+" ",1),e("div",J,[n(b,{class:"dash-btn !bg-gray-300 !text-gray-800",href:r.route("admins.index")},{default:f(()=>[i("Назад")]),_:1},8,["href"]),e("button",{class:"dash-btn",href:r.route("admins.index")}," Сохранить ",8,K)])])],32)]}),_:1})],64)}const oe=U(q,[["render",Q]]);export{oe as default};
