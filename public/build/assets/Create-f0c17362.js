import{D as g}from"./DashboardLayout-d96027a2.js";import{Z as x,B as v,O as w,p as d,o as y,e as k,b as l,w as u,a as e,l as m,A as p,z as B,f as n,i as C,F as V}from"./app-00f1f0af.js";import{C as D}from"./vue-select-954840c9.js";import{S as L}from"./sweetalert2-c9babbd4.js";import{I as E}from"./IError-5b4b8cad.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";const S={components:{DashboardLayout:g,vSelect:D,IError:E,Head:x},data(){return{item:{name:"",email:"",password:"",role:"moderator"},errors:[]}},mounted(){},methods:{changeImage(r,s){if(r.target.files.length>0){var a=r.target;if(a.files&&a.files[0]){var c=new FileReader;c.onload=o=>{this.item.image=o.target.result},c.readAsDataURL(a.files[0])}}},submit(){v.post(route("admins.store"),this.item).then(r=>{L.fire({title:"Администратор успешно создан",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),w.visit(route("admins.index"),{replace:!0})}).catch(r=>{console.log(r.response.data),this.errors=r.response.data.errors})}}},U=e("div",{class:"mb-6"},[e("h2",{class:"font-bold text-xl"},"Добавить администратор")],-1),q={class:""},F=e("label",{class:"block",for:""},[n("Имя: "),e("span",{class:"font-bold text-red-600"},"*")],-1),H={class:""},M=e("label",{class:"block",for:""},[n("E-mail:"),e("span",{class:"font-bold text-red-600"},"*")],-1),N={class:""},A=e("label",{class:"block",for:""},[n("Доступ:"),e("span",{class:"font-bold text-red-600"},"*")],-1),O=e("option",{value:"moderator"},"Модератор",-1),R=e("option",{value:"admin"},"Админ",-1),T=[O,R],j={class:""},z=e("label",{class:"block",for:""},[n("Пароль:"),e("span",{class:"font-bold text-red-600"},"*")],-1),P={class:"col-span-2 border-t-2 pt-3"},Z={class:"flex items-center justify-end gap-x-3"},G=["href"];function J(r,s,a,c,o,f){const _=d("Head"),i=d("IError"),b=d("Link"),h=d("DashboardLayout");return y(),k(V,null,[l(_,{title:"Добавить администратор"}),l(h,null,{default:u(()=>[U,e("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:s[6]||(s[6]=C(t=>f.submit(),["prevent"]))},[e("div",q,[F,m(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.item.name=t)},null,512),[[p,o.item.name]]),l(i,{name:"name",errors:o.errors},null,8,["errors"])]),e("div",H,[M,m(e("input",{type:"email",class:"form-controls",required:"","onUpdate:modelValue":s[1]||(s[1]=t=>o.item.email=t)},null,512),[[p,o.item.email]]),l(i,{name:"email",errors:o.errors},null,8,["errors"])]),e("div",N,[A,m(e("select",{class:"form-controls",required:"","onUpdate:modelValue":s[2]||(s[2]=t=>o.item.role=t)},T,512),[[B,o.item.role]]),l(i,{name:"role",errors:o.errors},null,8,["errors"])]),e("div",j,[z,m(e("input",{type:"password",class:"form-controls",required:"","onUpdate:modelValue":s[3]||(s[3]=t=>o.item.password=t),minlength:"8",onClick:s[4]||(s[4]=t=>t.target.type="text"),onBlur:s[5]||(s[5]=t=>t.target.type="password")},null,544),[[p,o.item.password]]),l(i,{name:"password",errors:o.errors},null,8,["errors"])]),e("div",P,[e("div",Z,[l(b,{class:"dash-btn !bg-gray-300 !text-gray-800",href:r.route("admins.index")},{default:u(()=>[n("Назад")]),_:1},8,["href"]),e("button",{class:"dash-btn",href:r.route("admins.index")}," Сохранить ",8,G)])])],32)]),_:1})],64)}const ee=I(S,[["render",J]]);export{ee as default};
