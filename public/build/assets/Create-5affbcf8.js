import{D as g}from"./DashboardLayout-d96027a2.js";import{B as b,O as _,p as l,o as d,c as v,w as c,a as e,l as x,A as y,b as m,e as p,f as w,i as k}from"./app-00f1f0af.js";import{S as C}from"./sweetalert2-c9babbd4.js";import{C as B}from"./ckeditor-f9579a91.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const D={components:{DashboardLayout:g},props:{reviews:{type:Object,default:{}}},data(){return{item:{name:"",image:"",body:""},editor:B,editorConfig:{ckfinder:{uploadUrl:"/dashboard/editor/upload",name:"upload",url:"url"},mediaEmbed:{previewsInData:!0}}}},mounted(){},methods:{changeImage(s,o){if(s.target.files.length>0){var i=s.target;if(i.files&&i.files[0]){var a=new FileReader;a.onload=t=>{this.item.image=t.target.result},a.readAsDataURL(i.files[0])}}},submit(){b.post(route("reviews.store"),this.item).then(s=>{C.fire({title:"Отзыв успешно создан",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),_.visit(route("reviews.index"),{replace:!0})}).catch(s=>{console.log(s.response.data)})}}},L=e("div",{class:"mb-6"},[e("h2",{class:"font-bold text-xl"},"Добавить Отзыв")],-1),j={class:""},A=e("label",{class:"block",for:""},"Название :",-1),M={class:"col-span-2 border-t-2 pt-3"},U=e("label",{class:"block",for:""},"Описание:",-1),z={class:"col-span-2 border-t-2 pt-3"},I=e("label",{class:"block",for:""}," Изображение: ",-1),N=["required"],q={for:"image",class:"cursor-pointer"},E={key:0,class:"relative group"},G=["src"],O=e("div",{class:"group-hover:flex hidden absolute right-0 left-0 bottom-0 top-0 bg-black bg-opacity-50 z-20 items-center justify-center rounded-lg"},[e("span",{class:"inline-block border-2 rounded-lg px-4 py-3 font-bold text-sm text-white"},"Изменить")],-1),P={key:1,class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},S=e("div",{class:"text-center"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})]),e("div",{class:"mt-4 flex text-sm leading-6 text-indigo-600 tex"},[e("p",{class:"pl-1"}," Upload a file. PNG, JPG, GIF up to 10MB ")])],-1),F=[S],R={class:"col-span-2 border-t-2 pt-3"},T={class:"flex items-center justify-end gap-x-3"},H=["href"];function J(s,o,i,a,t,n){const u=l("ckeditor"),f=l("Link"),h=l("DashboardLayout");return d(),v(h,null,{default:c(()=>[L,e("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:o[3]||(o[3]=k(r=>n.submit(),["prevent"]))},[e("div",j,[A,x(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":o[0]||(o[0]=r=>t.item.name=r)},null,512),[[y,t.item.name]])]),e("div",M,[U,m(u,{modelValue:t.item.body,"onUpdate:modelValue":o[1]||(o[1]=r=>t.item.body=r),editor:t.editor,config:t.editorConfig},null,8,["modelValue","editor","config"])]),e("div",z,[I,e("input",{id:"image",onChange:o[2]||(o[2]=r=>n.changeImage(r,"image")),type:"file",accept:"image/*",required:t.item.image=="",class:"w-[1px] h-[1px] opacity-0"},null,40,N),e("label",q,[t.item.image?(d(),p("div",E,[e("img",{class:"object-cover h-[270px] rounded-lg border border-dashed border-gray-900/25 w-full",src:t.item.image,alt:""},null,8,G),O])):(d(),p("div",P,F))])]),e("div",R,[e("div",T,[m(f,{class:"dash-btn !bg-gray-300 !text-gray-800",href:s.route("reviews.index")},{default:c(()=>[w("Назад")]),_:1},8,["href"]),e("button",{class:"dash-btn",href:s.route("reviews.index")}," Сохранить ",8,H)])])],32)]),_:1})}const Z=V(D,[["render",J]]);export{Z as default};
